@model List<Record>



<!--  BEGIN CONTENT AREA  -->
<div id="content" class="main-content">
    <div class="layout-px-spacing">
            
        <div class="middle-content container-xxl p-0">
<div class="row layout-spacing">
    <div class="col-lg-12">
        <div class="statbox widget box box-shadow">
            <div class="widget-content widget-content-area">
                <table id="style-3" class="table style-3 dt-table-hover">
                    <thead>
                        <tr>
                            <th class="checkbox-column text-center"> Record Id </th>
                            <th class="text-center">Customer Add Prove</th>
                            <th>Customer Name</th>
                                        <th>Address</th>
                                        <th>Mobile No.</th>
                            <th>Policy</th>
                                        <th>Insurance Cost</th>
                            <th class="text-center">Status</th>
                            <th class="text-center dt-no-sorting">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var record in Model)
                                    {
                                        
                        <tr>
                                            <td class="checkbox-column text-center"> @record.Id  </td>
                            <td class="text-center">
                                                <span><img src="~/uploads/@record.CustomerAddProve" class="profile-img" alt="avatar" width="50px" height="50px"></span>
                            </td>
                                            <td>@record.CustomerName</td>
                                            <td>@record.CustomerAddress</td>
                                            <td>@record.VehicleNumber</td>
                                            <td>@record.VehiclePolicyType</td>
                                            <td>@record.InsuranceCost $/ @record.PolicyDuration</td>
                                            @{
                                                string badgeClass = "";
                                                string statusText = "";

                                                switch (record.PaymentStatus)
                                                {
                                                    case "Waiting for aproved":
                                                        badgeClass = "badge-warning";
                                                        statusText = "Waiting for aproved";
                                                        break;
                                                    case "Processing":
                                                        badgeClass = "badge-primary";
                                                        statusText = "Processing";
                                                        break;
                                                    case "Cancelled":
                                                        badgeClass = "badge-danger";
                                                        statusText = "Cancelled";
                                                        break;
                                                    case "Completed":
                                                        badgeClass = "badge-success";
                                                        statusText = "Completed";
                                                        break;
                                                    default:
                                                        badgeClass = "badge-secondary";
                                                        statusText = "Unknown";
                                                        break;
                                                }
                                            }

                                            <td class="text-center"><span class="shadow-none badge @badgeClass">@statusText</span></td>
                                            <td class="text-center">
                                                @switch (statusText)
                                                {
                                                    case "Completed":
                                                        // If the status is Completed
                                                        if (record.isBilled)
                                                        {
                                                            <a asp-controller="Record" asp-action="Index" class="btn btn-warning btn-rounded mb-2 me-4">Billed</a>
                                                        }
                                                        else
                                                        {
                                                            <a asp-controller="Record" asp-action="Billing" asp-route-id="@record.Id" class="btn btn-primary btn-rounded mb-2 me-4">Billing</a>
                                                        }
                                                        break;
                                                    case "Cancelled":
                                                        // If the status is Cancelled
                                                        
                                                        break;
                                                    case "Waiting for aproved":
                                                        // If the status is Waiting for aproved
                                                        <a asp-controller="Record" asp-action="Process" asp-route-id="@record.Id" class="btn btn-info btn-rounded mb-2 me-4">Process</a>
                                                        break;
                                                    case "Process":
                                                        // If the status is Process
                                                        <a asp-controller="Record" asp-action="Process" asp-route-id="@record.Id" class="btn btn-success btn-rounded mb-2 me-4">Process</a>
                                                        break;
                                                    default:
                                                        // If none of the above cases match
                                                        <a asp-controller="Record" asp-action="Process" asp-route-id="@record.Id" class="btn btn-primary btn-rounded mb-2 me-4">Process</a>
                                                        break;
                                                }
                                            </td>
                                        
                        </tr>
                       }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
   </div>

            </div>

    <!--  END CONTENT AREA  -->
</div>

<!--  END CONTENT AREA  -->
@section Scripts {
    @{
        <partial name="_TableRecordScript" />
        
    }
}

